<!DOCTYPE html>
<!--
  Ahgora Tools - Suite de Ferramentas
  
  Copyright ¬© 2025 Delean Mafra
  Todos os direitos reservados
  
  Licen√ßa: Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)
  http://delean-mafra.github.io/Ahtools/CC_BY_NC_4.0
-->
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Delean Mafra">
    <title>Ahgora Tools</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="main-container">
        <header class="header">
            <h1>üõ†Ô∏è Ahgora Tools</h1>
            <p class="subtitle">Suite de Ferramentas</p>
        </header>

        <!-- Tabs Navigation -->
        <nav class="tabs-nav">
            <button class="tab-btn active" data-tab="zendesk">
                ü§ñ Auto Chat
            </button>
            <button class="tab-btn" data-tab="perfil">
                üîê Clonar Perfil
            </button>
            <button class="tab-btn" data-tab="ahgora">
                üîó Trocar Base
            </button>
        </nav>

        <!-- Tab Contents -->
        <div class="tabs-content">
            <!-- TAB 1: Auto Puxa Chat Zendesk -->
            <div id="tab-zendesk" class="tab-panel active">
                <div class="panel-content">
                    <div class="toggle-container">
                        <span class="toggle-label">üîî Notifica√ß√µes</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggleExtension" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="status-box">
                        <div class="status-item">
                            <span class="status-label">Notifica√ß√µes:</span>
                            <span id="status" class="status-value status-active">Ativas</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Status Zendesk:</span>
                            <span id="statusOnline" class="status-value status-inactive">Verificando...</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">‚è±Ô∏è Tempo Online:</span>
                            <span id="tempoOnline" class="status-value">00:00:00</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Chats Ativos:</span>
                            <span id="chatsAtivos" class="status-value">0/3</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">√öltimo click:</span>
                            <span id="ultimoClick" class="status-value">Nenhum</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">Intervalo:</span>
                            <span id="intervaloAtual" class="status-value">10 minutos</span>
                        </div>
                    </div>

                    <div class="security-section" id="securitySectionZendesk">
                        <label class="security-label">üîê C√≥digo de Seguran√ßa:</label>
                        <input type="text" id="securityCodeZendesk" class="security-input" placeholder="Ex: 1234-ABCD" maxlength="9">
                        <button id="btnUnlockZendesk" class="btn-security">üîì Desbloquear Configura√ß√µes</button>
                        <div class="security-status" id="securityStatusZendesk">üîí Configura√ß√µes bloqueadas</div>
                    </div>

                    <div class="config-section config-locked" id="intervaloConfig">
                        <label for="intervaloInput" class="config-label"><span class="lock-icon">üîí</span>‚è±Ô∏è Configurar Intervalo:</label>
                        <div class="config-input-group">
                            <input type="number" id="intervaloInput" min="1" max="60" value="10" class="config-input" disabled>
                            <span class="config-suffix">min</span>
                            <button id="salvarIntervalo" class="btn-small" disabled>Salvar</button>
                        </div>
                    </div>

                    <div class="config-section config-locked" id="limiteChatsConfig">
                        <label for="limiteChatsInput" class="config-label"><span class="lock-icon">üîí</span>üí¨ Limite de Chats:</label>
                        <div class="config-input-group">
                            <input type="number" id="limiteChatsInput" min="1" max="10" value="3" class="config-input" disabled>
                            <span class="config-suffix">chats</span>
                            <button id="salvarLimiteChats" class="btn-small" disabled>Salvar</button>
                        </div>
                    </div>

                    <!-- Flag de confirma√ß√£o para clique manual -->
                    <div class="toggle-container" style="margin-top: 10px; background: #fff3cd;">
                        <span class="toggle-label">üõ°Ô∏è Confirmar clique manual</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggleConfirmacaoManual" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="info-box" style="background: #fff3cd; color: #856404; border-left-color: #ffc107; margin-top: 5px; font-size: 10px;">
                        ‚ö†Ô∏è Quando ativo, pede confirma√ß√£o ao clicar no bot√£o "Na fila" diretamente na p√°gina.
                    </div>

                    <div class="button-group">
                        <button id="clickNow" class="btn btn-success">Puxar Agora</button>
                    </div>

                    <div class="info-box">
                        ‚ÑπÔ∏è A extens√£o <strong>SEMPRE</strong> puxa chats quando voc√™ est√° <strong>ONLINE</strong> e n√£o atingiu o limite.
                    </div>
                </div>
            </div>

            <!-- TAB 2: Clonar Perfil PontoWeb -->
            <div id="tab-perfil" class="tab-panel">
                <div class="panel-content">
                    <!-- Se√ß√£o de seguran√ßa para clonar perfil -->
                    <div class="security-section" id="securitySectionPerfil">
                        <label class="security-label">üîê C√≥digo de Seguran√ßa Di√°rio:</label>
                        <input type="text" id="securityCodePerfil" class="security-input" placeholder="Ex: 1234-ABCD" maxlength="9">
                        <button id="btnUnlockPerfil" class="btn-security">üîì Desbloquear Fun√ß√£o</button>
                        <div class="security-status" id="securityStatusPerfil">üîí Fun√ß√£o bloqueada - Insira o c√≥digo di√°rio</div>
                    </div>

                    <div id="perfilFunctionContent" class="function-locked">
                        <div class="section">
                            <button id="btnDetectar" class="btn btn-primary" disabled>
                                üîç Detectar Perfis na P√°gina
                            </button>
                        </div>

                        <div id="perfisSection" class="section" style="display: none;">
                            <div class="form-group">
                                <label for="perfilOrigem">üìã Perfil de Origem (copiar de):</label>
                                <select id="perfilOrigem" class="form-control" disabled>
                                    <option value="">Selecione o perfil de origem...</option>
                                </select>
                            </div>

                            <div class="arrow">‚¨áÔ∏è</div>

                            <div class="form-group">
                                <label for="perfilDestino">üìù Perfil de Destino (colar em):</label>
                                <select id="perfilDestino" class="form-control" disabled>
                                    <option value="">Selecione o perfil de destino...</option>
                                </select>
                            </div>

                            <button id="btnReplicar" class="btn btn-success" disabled>
                                ‚úÖ Replicar Permiss√µes
                            </button>
                        </div>

                        <div id="mensagemPerfil" class="mensagem"></div>

                        <div class="info-box">
                            <p><strong>‚ÑπÔ∏è Como usar:</strong></p>
                            <ol>
                                <li>Insira o c√≥digo de seguran√ßa di√°rio</li>
                                <li>Clique em "Detectar Perfis"</li>
                                <li>Selecione origem e destino</li>
                                <li>Clique em "Replicar Permiss√µes"</li>
                                <li>Salve as altera√ß√µes na p√°gina!</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TAB 3: Trocar Base Ahgora -->
            <div id="tab-ahgora" class="tab-panel">
                <div class="panel-content">
                    <div class="input-group">
                        <label for="codigoInput">Digite o c√≥digo da empresa:</label>
                        <input type="text" id="codigoInput" class="form-control codigo-input" placeholder="Ex: a393346" autofocus>
                    </div>
                    
                    <button id="confirmarBtn" class="btn btn-primary">Confirmar</button>
                    
                    <div class="example-box">
                        <strong>Exemplos:</strong><br>
                        ‚Ä¢ a393346 ‚Üí https://app.ahgora.com.br/lista_empresas?empresa=a393346
                    </div>

                    <div class="info-box">
                        ‚ÑπÔ∏è Insira o c√≥digo da empresa para acessar rapidamente a p√°gina de gerenciamento.
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>¬© 2025 Delean Mafra - Todos os direitos reservados</p>
            <p>
                <a href="http://delean-mafra.github.io/Ahtools/CC_BY_NC_4.0" target="_blank">
                    Licen√ßa CC BY-NC 4.0
                </a>
            </p>
        </footer>
    </div>

    <script src="popup.js"></script>
</body>
</html>
